function y = bp2_30(x)
%BP2_30 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 10-Jul-2020 08:57:04

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fstop1 = 0.5;             % First Stopband Frequency
    % Fpass1 = 2;               % First Passband Frequency
    % Fpass2 = 30;              % Second Passband Frequency
    % Fstop2 = 32;              % Second Stopband Frequency
    % Dstop1 = 0.001;           % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.0001;          % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.000220220078452636 -0.00058882156883693 ...
        -0.00124390073833553 -0.00218203477862229 -0.00330877618247279 ...
        -0.00440680971295025 -0.00516452576723018 -0.00525918612021249 ...
        -0.00447698247707517 -0.00282624805208601 -0.000591538403202112 ...
        0.00171160680199088 0.00348397470159845 0.00424916538724433 ...
        0.00384181206113507 0.00249326441998736 0.000766579226277024 ...
        -0.000649444415799222 -0.00121006808198402 -0.000736339471077218 ...
        0.000511686990554193 0.00195060720959221 0.00293419176356748 ...
        0.00304418279244341 0.00227852772481763 0.00104603588793435 ...
        -3.34258629221051e-05 -0.000429874937915556 3.97328633220138e-05 ...
        0.00112526952043516 0.00227268827668445 0.00290615647898757 ...
        0.00272132378284272 0.00183997005021378 0.000745195646468537 ...
        2.84338564369488e-05 7.83137985019606e-05 0.000874650104157045 ...
        0.00199771173191857 0.00285076276268768 0.00297986697955553 ...
        0.00232052259467071 0.00123683031508199 0.000328169537979789 ...
        0.000104321709464793 0.000704038353003158 0.00181225489073252 ...
        0.00282571920958559 0.00318146570723509 0.00267033327319339 ...
        0.00156136513783305 0.000462903168466838 -9.15036199114866e-06 ...
        0.000423791021828289 0.00153749727119745 0.00271674345360008 ...
        0.00329006761878337 0.00290628026881853 0.00174235763221349 ...
        0.000420061269878122 -0.00033123535808139 -8.36662564015498e-05 ...
        0.00103678765946432 0.00240284088701282 0.00322424217909349 ...
        0.00299042647386722 0.00177028135375412 0.000193796023948741 ...
        -0.000885668241680378 -0.00086852457012847 0.000240422711153219 ...
        0.00181204759880673 0.00292757262195368 0.0028910043562991 ...
        0.00163437048836853 -0.000219223103445646 -0.00168401127426775 ...
        -0.00195975007572849 -0.000895792912697875 0.000897030045163018 ...
        0.00236470288803024 0.00259418784674963 0.00134077977030166 ...
        -0.000804794210875017 -0.00271975217133318 -0.0033691940920799 ...
        -0.00240143961019906 -0.000377518384372203 0.00151166108868536 ...
        0.00210025695546574 0.000915691537364375 -0.0015214668113799 ...
        -0.0039531694508283 -0.00507257805373969 -0.00427029072236901 ...
        -0.00201349549071512 0.000374889898706071 0.00143684646000857 ...
        0.000408916146523622 -0.00230937103563936 -0.00533265286003318 ...
        -0.00703978472588562 -0.00649282224465171 -0.00400597387107668 ...
        -0.00102258697811539 0.000661010969037367 -8.99632599486265e-05 ...
        -0.0030663441532185 -0.00677156723984127 -0.00921957446425672 ...
        -0.00905175431550924 -0.00634760870498159 -0.00264932114104225 ...
        -0.000147750589179974 -0.000455554331456331 -0.00365088775396552 ...
        -0.00815410393742004 -0.0115505773067154 -0.0119359877896975 ...
        -0.00903893836929468 -0.00446460036309609 -0.00087257893783897 ...
        -0.000503492527948928 -0.00386484616696157 -0.00933991750761032 ...
        -0.0139964856288904 -0.0151996296239178 -0.0121488190528608 ...
        -0.00645151879498806 -0.00134547143030949 6.65748150135556e-05 ...
        -0.00338292407357592 -0.0101235978316822 -0.016568541073295 ...
        -0.0190470046680107 -0.0159204484008905 -0.00867870265383332 ...
        -0.00131317564256297 0.0017996456263623 -0.00159871975942033 ...
        -0.0101663975761116 -0.0194322590224935 -0.0241114240259542 ...
        -0.0210945206124396 -0.0114570634773839 -0.000249198709920118 ...
        0.00602381218123316 0.00301823446171514 -0.00868392551107071 ...
        -0.0233258037445585 -0.0326615359176544 -0.0303989368758042 ...
        -0.0161128841211197 0.00362437358688976 0.0178886003571 ...
        0.0168901192634831 -0.0022624076872083 -0.0325322881396392 ...
        -0.0585996147730078 -0.0629558739583498 -0.0339780928189772 ...
        0.0276923160190902 0.107637874480172 0.182127153454902 0.226950450716549 ...
        0.226950450716549 0.182127153454902 0.107637874480172 0.0276923160190902 ...
        -0.0339780928189772 -0.0629558739583498 -0.0585996147730078 ...
        -0.0325322881396392 -0.0022624076872083 0.0168901192634831 ...
        0.0178886003571 0.00362437358688976 -0.0161128841211197 ...
        -0.0303989368758042 -0.0326615359176544 -0.0233258037445585 ...
        -0.00868392551107071 0.00301823446171514 0.00602381218123316 ...
        -0.000249198709920118 -0.0114570634773839 -0.0210945206124396 ...
        -0.0241114240259542 -0.0194322590224935 -0.0101663975761116 ...
        -0.00159871975942033 0.0017996456263623 -0.00131317564256297 ...
        -0.00867870265383332 -0.0159204484008905 -0.0190470046680107 ...
        -0.016568541073295 -0.0101235978316822 -0.00338292407357592 ...
        6.65748150135556e-05 -0.00134547143030949 -0.00645151879498806 ...
        -0.0121488190528608 -0.0151996296239178 -0.0139964856288904 ...
        -0.00933991750761032 -0.00386484616696157 -0.000503492527948928 ...
        -0.00087257893783897 -0.00446460036309609 -0.00903893836929468 ...
        -0.0119359877896975 -0.0115505773067154 -0.00815410393742004 ...
        -0.00365088775396552 -0.000455554331456331 -0.000147750589179974 ...
        -0.00264932114104225 -0.00634760870498159 -0.00905175431550924 ...
        -0.00921957446425672 -0.00677156723984127 -0.0030663441532185 ...
        -8.99632599486265e-05 0.000661010969037367 -0.00102258697811539 ...
        -0.00400597387107668 -0.00649282224465171 -0.00703978472588562 ...
        -0.00533265286003318 -0.00230937103563936 0.000408916146523622 ...
        0.00143684646000857 0.000374889898706071 -0.00201349549071512 ...
        -0.00427029072236901 -0.00507257805373969 -0.0039531694508283 ...
        -0.0015214668113799 0.000915691537364375 0.00210025695546574 ...
        0.00151166108868536 -0.000377518384372203 -0.00240143961019906 ...
        -0.0033691940920799 -0.00271975217133318 -0.000804794210875017 ...
        0.00134077977030166 0.00259418784674963 0.00236470288803024 ...
        0.000897030045163018 -0.000895792912697875 -0.00195975007572849 ...
        -0.00168401127426775 -0.000219223103445646 0.00163437048836853 ...
        0.0028910043562991 0.00292757262195368 0.00181204759880673 ...
        0.000240422711153219 -0.00086852457012847 -0.000885668241680378 ...
        0.000193796023948741 0.00177028135375412 0.00299042647386722 ...
        0.00322424217909349 0.00240284088701282 0.00103678765946432 ...
        -8.36662564015498e-05 -0.00033123535808139 0.000420061269878122 ...
        0.00174235763221349 0.00290628026881853 0.00329006761878337 ...
        0.00271674345360008 0.00153749727119745 0.000423791021828289 ...
        -9.15036199114866e-06 0.000462903168466838 0.00156136513783305 ...
        0.00267033327319339 0.00318146570723509 0.00282571920958559 ...
        0.00181225489073252 0.000704038353003158 0.000104321709464793 ...
        0.000328169537979789 0.00123683031508199 0.00232052259467071 ...
        0.00297986697955553 0.00285076276268768 0.00199771173191857 ...
        0.000874650104157045 7.83137985019606e-05 2.84338564369488e-05 ...
        0.000745195646468537 0.00183997005021378 0.00272132378284272 ...
        0.00290615647898757 0.00227268827668445 0.00112526952043516 ...
        3.97328633220138e-05 -0.000429874937915556 -3.34258629221051e-05 ...
        0.00104603588793435 0.00227852772481763 0.00304418279244341 ...
        0.00293419176356748 0.00195060720959221 0.000511686990554193 ...
        -0.000736339471077218 -0.00121006808198402 -0.000649444415799222 ...
        0.000766579226277024 0.00249326441998736 0.00384181206113507 ...
        0.00424916538724433 0.00348397470159845 0.00171160680199088 ...
        -0.000591538403202112 -0.00282624805208601 -0.00447698247707517 ...
        -0.00525918612021249 -0.00516452576723018 -0.00440680971295025 ...
        -0.00330877618247279 -0.00218203477862229 -0.00124390073833553 ...
        -0.00058882156883693 -0.000220220078452636]);
end

y = step(Hd,double(x));


% [EOF]
