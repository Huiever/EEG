function y = lpf(x)
%LPF Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 22-May-2020 08:52:05

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fpass = 100;             % Passband Frequency
    % Fstop = 110;             % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.0094786891947638 0.0206892876181972 ...
        0.000744371190031521 -0.00771782205541905 0.007885590162805 ...
        -0.00503616804388923 0.00100462781888424 0.0031223738142391 ...
        -0.00640983563447914 0.00795673645051491 -0.00709989788711661 ...
        0.00372250867861554 0.00156622600299586 -0.00738650314813267 ...
        0.0118427495010773 -0.013150729797916 0.0102067008783372 ...
        -0.00303056580643303 -0.00686729696406007 0.016745588079624 ...
        -0.0232920976455816 0.0233866937149435 -0.0153384299525421 ...
        -0.000508479754490282 0.0212670365415149 -0.0417926725166802 ...
        0.0553643198766896 -0.0545673705956273 0.0316390076146536 ...
        0.0239712806303821 -0.143139209121796 0.612344023582828 ...
        0.612344023582828 -0.143139209121796 0.0239712806303821 ...
        0.0316390076146536 -0.0545673705956273 0.0553643198766896 ...
        -0.0417926725166802 0.0212670365415149 -0.000508479754490282 ...
        -0.0153384299525421 0.0233866937149435 -0.0232920976455816 ...
        0.016745588079624 -0.00686729696406007 -0.00303056580643303 ...
        0.0102067008783372 -0.013150729797916 0.0118427495010773 ...
        -0.00738650314813267 0.00156622600299586 0.00372250867861554 ...
        -0.00709989788711661 0.00795673645051491 -0.00640983563447914 ...
        0.0031223738142391 0.00100462781888424 -0.00503616804388923 ...
        0.007885590162805 -0.00771782205541905 0.000744371190031521 ...
        0.0206892876181972 0.0094786891947638]);
end

y = step(Hd,double(x));


% [EOF]
