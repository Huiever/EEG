function y = lp2(x)
%LP2 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 22-May-2020 22:07:45

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Highpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fstop = 1;               % Stopband Frequency
    % Fpass = 2;               % Passband Frequency
    % Dstop = 0.0001;          % Stopband Attenuation
    % Dpass = 0.057501127785;  % Passband Ripple
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop, Fpass]/(Fs/2), [0 1], [Dstop, Dpass]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.0135471794675086 -0.00103278843109596 ...
        -0.000994219732115331 -0.000957699866562449 -0.000922254353759358 ...
        -0.000888733332568511 -0.000856131580813509 -0.000825338323289358 ...
        -0.000795289621112792 -0.000766918074352564 -0.00073919767757615 ...
        -0.00071296852573198 -0.000687304789875366 -0.000663004654572596 ...
        -0.000639076314895872 -0.000616476402325166 -0.000594123275778509 ...
        -0.000572945538189046 -0.000551869136699852 -0.000531920494419098 ...
        -0.000511950565188695 -0.00049302835994839 -0.000473920568629954 ...
        -0.000455837094676876 -0.000437432140133118 -0.000420011553363443 ...
        -0.000402090892725821 -0.000385173891513078 -0.000367639120166552 ...
        -0.000351090870945264 -0.000333675631555988 -0.0003174181349064 ...
        -0.00030004026903128 -0.000283939221870602 -0.000266464772177603 ...
        -0.000250508275910792 -0.000232682462453363 -0.000217031245348255 ...
        -0.000198409793449604 -0.000183951174400863 -0.000165165683177381 ...
        -0.000138669614610913 -0.000140721841348464 -0.000115327872199969 ...
        -9.43847157932343e-05 -7.2899716615491e-05 -5.6558017126847e-05 ...
        -3.92704639492216e-05 -2.37862292953069e-05 -6.01874661610052e-06 ...
        1.12558239523294e-05 3.06107960276553e-05 4.94317983544365e-05 ...
        6.95313468597968e-05 8.87270552086385e-05 0.000108637095881871 ...
        0.000127382571539658 0.000146617801365643 0.000164807518657479 ...
        0.000183484873253318 0.000201252386703156 0.00021958149207825 ...
        0.000237178023511831 0.000255401393595785 0.000272900401839147 ...
        0.000290972261354522 0.000308265556807398 0.000326055225618445 ...
        0.000342895083525733 0.000360063350626182 0.000376182496826692 ...
        0.000392554204153327 0.000407577877663151 0.000422868334614062 ...
        0.00043665416647043 0.000450673284984403 0.000463048483773126 ...
        0.00047577660675226 0.000486481974178965 0.000498076297663349 ...
        0.000506564997304356 0.000517005491485462 0.000526105582227108 ...
        0.000529381162604967 0.000539340469252652 0.000545401292988309 ...
        0.000550171607777725 0.000552518324435583 0.000555210652965122 ...
        0.00055691321340532 0.000558572040555709 0.000558567409304916 ...
        0.000557642654604723 0.000554841192143628 0.000551013736986908 ...
        0.000545651937172697 0.000539481373346492 0.000531945639916511 ...
        0.000523643074909056 0.000513969307432697 0.000503325886197329 ...
        0.000491129575909271 0.000477828808241979 0.000462973878330567 ...
        0.000447028075012837 0.000429551986710516 0.000411081961258231 ...
        0.000391221172551799 0.000370522346987476 0.00034846086783874 ...
        0.000325607106261732 0.000301493870597453 0.000276622003094205 ...
        0.00025033858162501 0.000223474250193248 0.000195159897617363 ...
        0.00016631706337773 0.000136076818769581 0.000105447530860744 ...
        7.33346291468877e-05 4.13179357249338e-05 7.24667343269942e-06 ...
        -2.5691180897057e-05 -6.04680458224441e-05 -9.67957163897051e-05 ...
        -0.000130599692364121 -0.000166877280684958 -0.000203530862782085 ...
        -0.000240830632297927 -0.000277355711521673 -0.000314305151672458 ...
        -0.000351174041254678 -0.000388813925062579 -0.000426273980138023 ...
        -0.000463937228182317 -0.000501016850704481 -0.000537940535798294 ...
        -0.000574248338073812 -0.000610426769884031 -0.000645958725076114 ...
        -0.00068122343436044 -0.000715699526782483 -0.000749662576398673 ...
        -0.000782544763391816 -0.000814607992934372 -0.000845424574927724 ...
        -0.000875345436652834 -0.000903920923199121 -0.000931474303929928 ...
        -0.000957553953739432 -0.000982573580237604 -0.00100597612888496 ...
        -0.00102804833103588 -0.00104835525589847 -0.0010672769956174 ...
        -0.0010840646498776 -0.00109942121902912 -0.00111252186167199 ...
        -0.00112405917168844 -0.00113325970382561 -0.0011408772788777 ...
        -0.00114583046393567 -0.0011495798022065 -0.00114982946335898 ...
        -0.00114917204025911 -0.00114596626609694 -0.00113934751387799 ...
        -0.00113154757648188 -0.00112127843064503 -0.001108404995237 ...
        -0.00109264820642071 -0.00107469891218671 -0.00105442086953856 ...
        -0.00103195617038253 -0.00100681346883731 -0.000979175482440565 ...
        -0.000948919535932701 -0.000916326776626796 -0.000881361448983332 ...
        -0.000844137277964868 -0.000804459039002012 -0.000762426104149635 ...
        -0.000717947655345874 -0.000671160120210815 -0.000622004066587939 ...
        -0.000570649748151924 -0.000517144392222905 -0.000461634290124052 ...
        -0.000404053071894976 -0.000344499803968418 -0.000282966357892288 ...
        -0.000219686447680505 -0.000154553636585245 -8.77392622310889e-05 ...
        -1.93799095021638e-05 5.03530170258077e-05 0.000121627469898896 ...
        0.000193890302057946 0.000267510098530171 0.000341960388268155 ...
        0.000417516057294295 0.000493698419271744 0.000570873839167853 ...
        0.000648092669843042 0.000726595671299317 0.000804313337721832 ...
        0.000882757566478302 0.000961476523617109 0.00103932940842622 ...
        0.00111702757686852 0.00119448444094383 0.00127144449508099 ...
        0.0013473732470498 0.00142231763272352 0.00149617574434142 ...
        0.00156906327751346 0.0016405559349883 0.00171051505088114 ...
        0.00177860662589346 0.00184480564710244 0.00190894881745513 ...
        0.00197102545120673 0.00203073672525538 0.00208796061711025 ...
        0.00214243347552118 0.00219410834407152 0.00224274705207585 ...
        0.00228823589830843 0.00233040303925892 0.00236920935503664 ...
        0.00240445710868051 0.00243597680892747 0.00246349267664355 ...
        0.00248703999589099 0.00250642210736809 0.00252139797436652 ...
        0.00253195205058185 0.00253809836845088 0.00253936976857132 ...
        0.00253610171261042 0.00252777555929896 0.00251461975364948 ...
        0.00249624488010685 0.00247285619142034 0.00244385627203983 ...
        0.00241010173833844 0.00237006935202092 0.00232528579262669 ...
        0.00227481193479654 0.00221846164134243 0.00215655380499407 ...
        0.00208920375129562 0.00201596673053847 0.00193686110778037 ...
        0.00185189006290864 0.00176128163142484 0.00166492462021234 ...
        0.00156274021927979 0.00145463300322591 0.00134075962246709 ...
        0.00122114625582707 0.00109597099625703 0.000965141428439834 ...
        0.000828710848118374 0.000686613683613821 0.000539047930793592 ...
        0.00038604701012306 0.000227773322985202 6.41651689895614e-05 ...
        -0.000104519833776879 -0.000278277705850746 -0.000456878543570753 ...
        -0.000640431388896774 -0.000828664037792577 -0.00102141739915966 ...
        -0.0012184414119387 -0.00141994701019533 -0.00162533496908753 ...
        -0.0018347014498111 -0.00204792872920217 -0.00226462780898809 ...
        -0.00248483892162494 -0.00270821936275268 -0.00293463841928767 ...
        -0.00316385900895218 -0.00339578674173344 -0.00362978398383104 ...
        -0.00386650895499489 -0.00410457560843634 -0.0043446644945843 ...
        -0.00458638364980897 -0.00482929318205684 -0.00507309350609724 ...
        -0.00531787478491621 -0.00556322768944463 -0.00580888085867789 ...
        -0.00605445079501415 -0.00629986416247584 -0.00654492503520271 ...
        -0.00678937616363723 -0.00703283133757292 -0.00727505273557503 ...
        -0.00751576994172654 -0.0077548652869793 -0.00799206776955348 ...
        -0.00822712938193387 -0.00845966640360762 -0.00868945856558057 ...
        -0.00891627634649995 -0.00913998948636473 -0.00936021608822812 ...
        -0.00957678770931445 -0.00978939489771676 -0.00999800931688121 ...
        -0.0102022096117733 -0.0104017342607221 -0.0105963567919763 ...
        -0.0107862237805025 -0.010970525571746 -0.0111495252813228 ...
        -0.0113228810019839 -0.0114902593141862 -0.0116516855534745 ...
        -0.0118068128153547 -0.0119555463783165 -0.0120977176919799 ...
        -0.0122331737366988 -0.0123615727856295 -0.0124833290585873 ...
        -0.0125974049117405 -0.0127045566026809 -0.0128042252476528 ...
        -0.0128963125833025 -0.012980590696397 -0.0130573328889671 ...
        -0.0131261393042639 -0.0131870827030953 -0.0132399118180906 ...
        -0.0132848566620123 -0.0133217095397148 -0.0133504818089866 ...
        -0.0133709288112412 -0.0133832174178535 0.986612751568853 ...
        -0.0133832174178535 -0.0133709288112412 -0.0133504818089866 ...
        -0.0133217095397148 -0.0132848566620123 -0.0132399118180906 ...
        -0.0131870827030953 -0.0131261393042639 -0.0130573328889671 ...
        -0.012980590696397 -0.0128963125833025 -0.0128042252476528 ...
        -0.0127045566026809 -0.0125974049117405 -0.0124833290585873 ...
        -0.0123615727856295 -0.0122331737366988 -0.0120977176919799 ...
        -0.0119555463783165 -0.0118068128153547 -0.0116516855534745 ...
        -0.0114902593141862 -0.0113228810019839 -0.0111495252813228 ...
        -0.010970525571746 -0.0107862237805025 -0.0105963567919763 ...
        -0.0104017342607221 -0.0102022096117733 -0.00999800931688121 ...
        -0.00978939489771676 -0.00957678770931445 -0.00936021608822812 ...
        -0.00913998948636473 -0.00891627634649995 -0.00868945856558057 ...
        -0.00845966640360762 -0.00822712938193387 -0.00799206776955348 ...
        -0.0077548652869793 -0.00751576994172654 -0.00727505273557503 ...
        -0.00703283133757292 -0.00678937616363723 -0.00654492503520271 ...
        -0.00629986416247584 -0.00605445079501415 -0.00580888085867789 ...
        -0.00556322768944463 -0.00531787478491621 -0.00507309350609724 ...
        -0.00482929318205684 -0.00458638364980897 -0.0043446644945843 ...
        -0.00410457560843634 -0.00386650895499489 -0.00362978398383104 ...
        -0.00339578674173344 -0.00316385900895218 -0.00293463841928767 ...
        -0.00270821936275268 -0.00248483892162494 -0.00226462780898809 ...
        -0.00204792872920217 -0.0018347014498111 -0.00162533496908753 ...
        -0.00141994701019533 -0.0012184414119387 -0.00102141739915966 ...
        -0.000828664037792577 -0.000640431388896774 -0.000456878543570753 ...
        -0.000278277705850746 -0.000104519833776879 6.41651689895614e-05 ...
        0.000227773322985202 0.00038604701012306 0.000539047930793592 ...
        0.000686613683613821 0.000828710848118374 0.000965141428439834 ...
        0.00109597099625703 0.00122114625582707 0.00134075962246709 ...
        0.00145463300322591 0.00156274021927979 0.00166492462021234 ...
        0.00176128163142484 0.00185189006290864 0.00193686110778037 ...
        0.00201596673053847 0.00208920375129562 0.00215655380499407 ...
        0.00221846164134243 0.00227481193479654 0.00232528579262669 ...
        0.00237006935202092 0.00241010173833844 0.00244385627203983 ...
        0.00247285619142034 0.00249624488010685 0.00251461975364948 ...
        0.00252777555929896 0.00253610171261042 0.00253936976857132 ...
        0.00253809836845088 0.00253195205058185 0.00252139797436652 ...
        0.00250642210736809 0.00248703999589099 0.00246349267664355 ...
        0.00243597680892747 0.00240445710868051 0.00236920935503664 ...
        0.00233040303925892 0.00228823589830843 0.00224274705207585 ...
        0.00219410834407152 0.00214243347552118 0.00208796061711025 ...
        0.00203073672525538 0.00197102545120673 0.00190894881745513 ...
        0.00184480564710244 0.00177860662589346 0.00171051505088114 ...
        0.0016405559349883 0.00156906327751346 0.00149617574434142 ...
        0.00142231763272352 0.0013473732470498 0.00127144449508099 ...
        0.00119448444094383 0.00111702757686852 0.00103932940842622 ...
        0.000961476523617109 0.000882757566478302 0.000804313337721832 ...
        0.000726595671299317 0.000648092669843042 0.000570873839167853 ...
        0.000493698419271744 0.000417516057294295 0.000341960388268155 ...
        0.000267510098530171 0.000193890302057946 0.000121627469898896 ...
        5.03530170258077e-05 -1.93799095021638e-05 -8.77392622310889e-05 ...
        -0.000154553636585245 -0.000219686447680505 -0.000282966357892288 ...
        -0.000344499803968418 -0.000404053071894976 -0.000461634290124052 ...
        -0.000517144392222905 -0.000570649748151924 -0.000622004066587939 ...
        -0.000671160120210815 -0.000717947655345874 -0.000762426104149635 ...
        -0.000804459039002012 -0.000844137277964868 -0.000881361448983332 ...
        -0.000916326776626796 -0.000948919535932701 -0.000979175482440565 ...
        -0.00100681346883731 -0.00103195617038253 -0.00105442086953856 ...
        -0.00107469891218671 -0.00109264820642071 -0.001108404995237 ...
        -0.00112127843064503 -0.00113154757648188 -0.00113934751387799 ...
        -0.00114596626609694 -0.00114917204025911 -0.00114982946335898 ...
        -0.0011495798022065 -0.00114583046393567 -0.0011408772788777 ...
        -0.00113325970382561 -0.00112405917168844 -0.00111252186167199 ...
        -0.00109942121902912 -0.0010840646498776 -0.0010672769956174 ...
        -0.00104835525589847 -0.00102804833103588 -0.00100597612888496 ...
        -0.000982573580237604 -0.000957553953739432 -0.000931474303929928 ...
        -0.000903920923199121 -0.000875345436652834 -0.000845424574927724 ...
        -0.000814607992934372 -0.000782544763391816 -0.000749662576398673 ...
        -0.000715699526782483 -0.00068122343436044 -0.000645958725076114 ...
        -0.000610426769884031 -0.000574248338073812 -0.000537940535798294 ...
        -0.000501016850704481 -0.000463937228182317 -0.000426273980138023 ...
        -0.000388813925062579 -0.000351174041254678 -0.000314305151672458 ...
        -0.000277355711521673 -0.000240830632297927 -0.000203530862782085 ...
        -0.000166877280684958 -0.000130599692364121 -9.67957163897051e-05 ...
        -6.04680458224441e-05 -2.5691180897057e-05 7.24667343269942e-06 ...
        4.13179357249338e-05 7.33346291468877e-05 0.000105447530860744 ...
        0.000136076818769581 0.00016631706337773 0.000195159897617363 ...
        0.000223474250193248 0.00025033858162501 0.000276622003094205 ...
        0.000301493870597453 0.000325607106261732 0.00034846086783874 ...
        0.000370522346987476 0.000391221172551799 0.000411081961258231 ...
        0.000429551986710516 0.000447028075012837 0.000462973878330567 ...
        0.000477828808241979 0.000491129575909271 0.000503325886197329 ...
        0.000513969307432697 0.000523643074909056 0.000531945639916511 ...
        0.000539481373346492 0.000545651937172697 0.000551013736986908 ...
        0.000554841192143628 0.000557642654604723 0.000558567409304916 ...
        0.000558572040555709 0.00055691321340532 0.000555210652965122 ...
        0.000552518324435583 0.000550171607777725 0.000545401292988309 ...
        0.000539340469252652 0.000529381162604967 0.000526105582227108 ...
        0.000517005491485462 0.000506564997304356 0.000498076297663349 ...
        0.000486481974178965 0.00047577660675226 0.000463048483773126 ...
        0.000450673284984403 0.00043665416647043 0.000422868334614062 ...
        0.000407577877663151 0.000392554204153327 0.000376182496826692 ...
        0.000360063350626182 0.000342895083525733 0.000326055225618445 ...
        0.000308265556807398 0.000290972261354522 0.000272900401839147 ...
        0.000255401393595785 0.000237178023511831 0.00021958149207825 ...
        0.000201252386703156 0.000183484873253318 0.000164807518657479 ...
        0.000146617801365643 0.000127382571539658 0.000108637095881871 ...
        8.87270552086385e-05 6.95313468597968e-05 4.94317983544365e-05 ...
        3.06107960276553e-05 1.12558239523294e-05 -6.01874661610052e-06 ...
        -2.37862292953069e-05 -3.92704639492216e-05 -5.6558017126847e-05 ...
        -7.2899716615491e-05 -9.43847157932343e-05 -0.000115327872199969 ...
        -0.000140721841348464 -0.000138669614610913 -0.000165165683177381 ...
        -0.000183951174400863 -0.000198409793449604 -0.000217031245348255 ...
        -0.000232682462453363 -0.000250508275910792 -0.000266464772177603 ...
        -0.000283939221870602 -0.00030004026903128 -0.0003174181349064 ...
        -0.000333675631555988 -0.000351090870945264 -0.000367639120166552 ...
        -0.000385173891513078 -0.000402090892725821 -0.000420011553363443 ...
        -0.000437432140133118 -0.000455837094676876 -0.000473920568629954 ...
        -0.00049302835994839 -0.000511950565188695 -0.000531920494419098 ...
        -0.000551869136699852 -0.000572945538189046 -0.000594123275778509 ...
        -0.000616476402325166 -0.000639076314895872 -0.000663004654572596 ...
        -0.000687304789875366 -0.00071296852573198 -0.00073919767757615 ...
        -0.000766918074352564 -0.000795289621112792 -0.000825338323289358 ...
        -0.000856131580813509 -0.000888733332568511 -0.000922254353759358 ...
        -0.000957699866562449 -0.000994219732115331 -0.00103278843109596 ...
        0.0135471794675086]);
end

y = step(Hd,double(x));


% [EOF]
