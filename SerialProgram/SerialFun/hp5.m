function y = hp5(x)
%HP5 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 22-May-2020 22:05:12

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Highpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fstop = 2;               % Stopband Frequency
    % Fpass = 5;               % Passband Frequency
    % Dstop = 0.0001;          % Stopband Attenuation
    % Dpass = 0.057501127785;  % Passband Ripple
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop, Fpass]/(Fs/2), [0 1], [Dstop, Dpass]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.0125925220220389 0.00190729171348045 ...
        0.00178413712739962 0.00167778221502662 0.00158779222302581 ...
        0.00150938306222906 0.00144247118854334 0.00138248001864546 ...
        0.00132902789210215 0.00127808151623976 0.00122978154958594 ...
        0.00118008674612449 0.0011290280697478 0.00107284244273421 ...
        0.00101233438800323 0.000944331066252371 0.000869678042699681 ...
        0.000785057123637937 0.000691902208533589 0.000588754121966856 ...
        0.000476293540483801 0.000352424158515842 0.000221553963603553 ...
        7.88933756794502e-05 -6.94055629893385e-05 -0.000226836439939976 ...
        -0.000389005899820255 -0.000557367766967094 -0.000726854309539687 ...
        -0.000899421069959444 -0.00106932958728889 -0.00123835691775854 ...
        -0.0013998860380262 -0.00155641089434604 -0.00170068895926163 ...
        -0.00183600451826413 -0.00195342194613828 -0.0020577887878564 ...
        -0.00213833644938506 -0.00220402513793807 -0.00223644020514098 ...
        -0.0022604482148843 -0.00223760294225117 -0.00219265480861731 ...
        -0.00213513015446098 -0.00202946323569177 -0.00189526954053605 ...
        -0.00172760727081194 -0.00153584131639028 -0.00131272025935858 ...
        -0.00106235773744708 -0.000780120340678559 -0.000471910130138109 ...
        -0.000136899631774422 0.000218450940342934 0.000594034134558666 ...
        0.000983592600052328 0.00138584412116657 0.00179433674542645 ...
        0.00220772428321761 0.00262032774170618 0.00302917760394432 ...
        0.00342557576539696 0.00380970253416998 0.00417128399780716 ...
        0.00450768248227493 0.00481252009017491 0.00508005116939773 ...
        0.00530517212718397 0.00548325182075834 0.00560838688779773 ...
        0.00567677610004405 0.00568341474277257 0.00562537432306922 ...
        0.0054980332588251 0.00529913320333047 0.00502486053116976 ...
        0.00467421748333973 0.00424414827216062 0.00373473590239299 ...
        0.00314364762969458 0.00247376078225536 0.00172311871562332 ...
        0.00089439305972994 -6.32063857882048e-06 -0.000987526460662474 ...
        -0.00203232681190786 -0.00314323986301569 -0.00431634483093241 ...
        -0.00554568552738421 -0.00682279957541792 -0.00814195113128425 ...
        -0.00949654695874836 -0.0108807605076448 -0.0122860522417205 ...
        -0.0137040109863192 -0.0151250613099518 -0.0165414641609189 ...
        -0.0179447619129991 -0.0193272206563446 -0.0206790327653931 ...
        -0.0219916328455683 -0.0232561256520932 -0.0244668800520322 ...
        -0.0256119128463391 -0.0266841531654804 -0.0276801008232586 ...
        -0.0285878854039517 -0.0294059397525386 -0.0301260302300929 ...
        -0.0307443663821743 -0.0312561886147976 -0.0316584551172379 ...
        -0.0319475885814486 -0.0321220008141504 0.96781990152413 ...
        -0.0321220008141504 -0.0319475885814486 -0.0316584551172379 ...
        -0.0312561886147976 -0.0307443663821743 -0.0301260302300929 ...
        -0.0294059397525386 -0.0285878854039517 -0.0276801008232586 ...
        -0.0266841531654804 -0.0256119128463391 -0.0244668800520322 ...
        -0.0232561256520932 -0.0219916328455683 -0.0206790327653931 ...
        -0.0193272206563446 -0.0179447619129991 -0.0165414641609189 ...
        -0.0151250613099518 -0.0137040109863192 -0.0122860522417205 ...
        -0.0108807605076448 -0.00949654695874836 -0.00814195113128425 ...
        -0.00682279957541792 -0.00554568552738421 -0.00431634483093241 ...
        -0.00314323986301569 -0.00203232681190786 -0.000987526460662474 ...
        -6.32063857882048e-06 0.00089439305972994 0.00172311871562332 ...
        0.00247376078225536 0.00314364762969458 0.00373473590239299 ...
        0.00424414827216062 0.00467421748333973 0.00502486053116976 ...
        0.00529913320333047 0.0054980332588251 0.00562537432306922 ...
        0.00568341474277257 0.00567677610004405 0.00560838688779773 ...
        0.00548325182075834 0.00530517212718397 0.00508005116939773 ...
        0.00481252009017491 0.00450768248227493 0.00417128399780716 ...
        0.00380970253416998 0.00342557576539696 0.00302917760394432 ...
        0.00262032774170618 0.00220772428321761 0.00179433674542645 ...
        0.00138584412116657 0.000983592600052328 0.000594034134558666 ...
        0.000218450940342934 -0.000136899631774422 -0.000471910130138109 ...
        -0.000780120340678559 -0.00106235773744708 -0.00131272025935858 ...
        -0.00153584131639028 -0.00172760727081194 -0.00189526954053605 ...
        -0.00202946323569177 -0.00213513015446098 -0.00219265480861731 ...
        -0.00223760294225117 -0.0022604482148843 -0.00223644020514098 ...
        -0.00220402513793807 -0.00213833644938506 -0.0020577887878564 ...
        -0.00195342194613828 -0.00183600451826413 -0.00170068895926163 ...
        -0.00155641089434604 -0.0013998860380262 -0.00123835691775854 ...
        -0.00106932958728889 -0.000899421069959444 -0.000726854309539687 ...
        -0.000557367766967094 -0.000389005899820255 -0.000226836439939976 ...
        -6.94055629893385e-05 7.88933756794502e-05 0.000221553963603553 ...
        0.000352424158515842 0.000476293540483801 0.000588754121966856 ...
        0.000691902208533589 0.000785057123637937 0.000869678042699681 ...
        0.000944331066252371 0.00101233438800323 0.00107284244273421 ...
        0.0011290280697478 0.00118008674612449 0.00122978154958594 ...
        0.00127808151623976 0.00132902789210215 0.00138248001864546 ...
        0.00144247118854334 0.00150938306222906 0.00158779222302581 ...
        0.00167778221502662 0.00178413712739962 0.00190729171348045 ...
        -0.0125925220220389]);
end

y = step(Hd,double(x));


% [EOF]
