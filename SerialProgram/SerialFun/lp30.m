function y = lp30(x)
%LP30 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 22-May-2020 09:05:58

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fpass = 30;              % Passband Frequency
    % Fstop = 35;              % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.000203984301083667 0.000422634523611001 ...
        0.000576268777914937 0.000369691211129574 -0.000500538269783562 ...
        -0.00217923492162997 -0.00447076895135599 -0.00677507757406155 ...
        -0.00823248603181097 -0.00806967019668492 -0.00601292658605616 ...
        -0.00255244817167629 0.00113249242326341 0.00362607746440967 ...
        0.00393767227295531 0.00204519821602603 -0.000999131012228185 ...
        -0.003526865529131 -0.00409729519171976 -0.00230013021312869 ...
        0.000943754841527448 0.00381263059284276 0.00457425607141042 ...
        0.00261396667493467 -0.00110268800153057 -0.00446672480318487 ...
        -0.0053923796444048 -0.00308502304907949 0.00134824142677207 ...
        0.00538570083668338 0.00649431462929667 0.0036870895426727 ...
        -0.00170591280435086 -0.00661226876728571 -0.00792963235448658 ...
        -0.00444428596879617 0.00220687888916265 0.00823241597726743 ...
        0.00979669275992447 0.00539958941174644 -0.00291619178375963 ...
        -0.0104137729473305 -0.0122845183892107 -0.00663510618083626 ...
        0.00396231878452413 0.0134921058369653 0.0157842806003314 ...
        0.00833923761378765 -0.0055903331675448 -0.018172528821683 ...
        -0.0211623453214902 -0.0109585751735028 0.00837235253361727 ...
        0.0262294903680001 0.0307477917444592 0.0157855808346701 ...
        -0.0141047880379309 -0.0438252688844501 -0.0536784664278987 ...
        -0.0287403019119137 0.0327877283194564 0.116600945657088 ...
        0.196678156967893 0.245482600480032 0.245482600480032 0.196678156967893 ...
        0.116600945657088 0.0327877283194564 -0.0287403019119137 ...
        -0.0536784664278987 -0.0438252688844501 -0.0141047880379309 ...
        0.0157855808346701 0.0307477917444592 0.0262294903680001 ...
        0.00837235253361727 -0.0109585751735028 -0.0211623453214902 ...
        -0.018172528821683 -0.0055903331675448 0.00833923761378765 ...
        0.0157842806003314 0.0134921058369653 0.00396231878452413 ...
        -0.00663510618083626 -0.0122845183892107 -0.0104137729473305 ...
        -0.00291619178375963 0.00539958941174644 0.00979669275992447 ...
        0.00823241597726743 0.00220687888916265 -0.00444428596879617 ...
        -0.00792963235448658 -0.00661226876728571 -0.00170591280435086 ...
        0.0036870895426727 0.00649431462929667 0.00538570083668338 ...
        0.00134824142677207 -0.00308502304907949 -0.0053923796444048 ...
        -0.00446672480318487 -0.00110268800153057 0.00261396667493467 ...
        0.00457425607141042 0.00381263059284276 0.000943754841527448 ...
        -0.00230013021312869 -0.00409729519171976 -0.003526865529131 ...
        -0.000999131012228185 0.00204519821602603 0.00393767227295531 ...
        0.00362607746440967 0.00113249242326341 -0.00255244817167629 ...
        -0.00601292658605616 -0.00806967019668492 -0.00823248603181097 ...
        -0.00677507757406155 -0.00447076895135599 -0.00217923492162997 ...
        -0.000500538269783562 0.000369691211129574 0.000576268777914937 ...
        0.000422634523611001 0.000203984301083667]);
end

y = step(Hd,double(x));


% [EOF]
