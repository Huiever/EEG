function y = bandstop(x)
%BANDSTOP Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 21-May-2020 22:22:36

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandstop filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fpass1 = 45;              % First Passband Frequency
    % Fstop1 = 50;              % First Stopband Frequency
    % Fstop2 = 55;              % Second Stopband Frequency
    % Fpass2 = 60;              % Second Passband Frequency
    % Dpass1 = 0.028774368332;  % First Passband Ripple
    % Dstop  = 0.001;           % Stopband Attenuation
    % Dpass2 = 0.057501127785;  % Second Passband Ripple
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass1 Fstop1 Fstop2 Fpass2]/(Fs/2), [1 0 ...
    %                           1], [Dpass1 Dstop Dpass2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.00706295488083428 0.00731935535429753 ...
        -0.00450564258132425 0.0045111622370509 0.00757350945272482 ...
        -0.000619047829872148 -0.00440808763835171 0.001166016733851 ...
        0.00512017200970887 0.00151229660639008 -0.00264963318108917 ...
        -0.001407969910383 0.00133035537635052 0.000863351489388785 ...
        -0.000184141874863692 0.00121408358859751 0.00137982506150387 ...
        -0.00246640751727483 -0.00412047912771524 0.00182941735249584 ...
        0.0073911640266207 0.00166755798763713 -0.00882084088776846 ...
        -0.00689965533397341 0.00690567762944912 0.0115762794642545 ...
        -0.00164756811718807 -0.0130953182462991 -0.00477919646159152 ...
        0.0103492794550178 0.0091920810268202 -0.00467760279897962 ...
        -0.00911666569752196 -0.000426738315379561 0.00468351793151618 ...
        0.00116669745395488 0.000880664163349677 0.00411087716210058 ...
        -0.00251788988414958 -0.0132314993338066 -0.00385247448485677 ...
        0.0204538007184545 0.0184840297709216 -0.0189791520867825 ...
        -0.0365019321880194 0.00457993088471395 0.0493090721980332 ...
        0.0212986079615137 -0.0482110357250265 -0.050958933615182 ...
        0.0288717148292515 0.0730175732251099 0.0057216813404983 ...
        -0.0770906194000537 -0.0455606123745571 0.0587343329950808 ...
        0.0771741257926128 -0.0219469313046725 0.91080595055448 ...
        -0.0219469313046725 0.0771741257926128 0.0587343329950808 ...
        -0.0455606123745571 -0.0770906194000537 0.0057216813404983 ...
        0.0730175732251099 0.0288717148292515 -0.050958933615182 ...
        -0.0482110357250265 0.0212986079615137 0.0493090721980332 ...
        0.00457993088471395 -0.0365019321880194 -0.0189791520867825 ...
        0.0184840297709216 0.0204538007184545 -0.00385247448485677 ...
        -0.0132314993338066 -0.00251788988414958 0.00411087716210058 ...
        0.000880664163349677 0.00116669745395488 0.00468351793151618 ...
        -0.000426738315379561 -0.00911666569752196 -0.00467760279897962 ...
        0.0091920810268202 0.0103492794550178 -0.00477919646159152 ...
        -0.0130953182462991 -0.00164756811718807 0.0115762794642545 ...
        0.00690567762944912 -0.00689965533397341 -0.00882084088776846 ...
        0.00166755798763713 0.0073911640266207 0.00182941735249584 ...
        -0.00412047912771524 -0.00246640751727483 0.00137982506150387 ...
        0.00121408358859751 -0.000184141874863692 0.000863351489388785 ...
        0.00133035537635052 -0.001407969910383 -0.00264963318108917 ...
        0.00151229660639008 0.00512017200970887 0.001166016733851 ...
        -0.00440808763835171 -0.000619047829872148 0.00757350945272482 ...
        0.0045111622370509 -0.00450564258132425 0.00731935535429753 ...
        -0.00706295488083428]);
end

y = step(Hd,double(x));


% [EOF]
