function y = bp50(x)
%BP50 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 10-Jul-2020 07:43:39

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandstop filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fpass1 = 45;              % First Passband Frequency
    % Fstop1 = 47;              % First Stopband Frequency
    % Fstop2 = 53;              % Second Stopband Frequency
    % Fpass2 = 55;              % Second Passband Frequency
    % Dpass1 = 0.028774368332;  % First Passband Ripple
    % Dstop  = 0.001;           % Stopband Attenuation
    % Dpass2 = 0.057501127785;  % Second Passband Ripple
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass1 Fstop1 Fstop2 Fpass2]/(Fs/2), [1 0 ...
    %                           1], [Dpass1 Dstop Dpass2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.00281739449797532 0.0117015766479468 ...
        -0.00845613337307066 0.00419736393288516 0.00166476659167523 ...
        -0.00189921536445171 -0.00206218140606155 0.00104247219104371 ...
        0.00232572448981301 3.84544985179117e-05 -0.00223483891951737 ...
        -0.00116344347965256 0.00157747601187329 0.00198295135262266 ...
        -0.000447668086722135 -0.00215980595031223 -0.00077493496322426 ...
        0.00160047326552778 0.00160679077719026 -0.000568771991188247 ...
        -0.00173225561630888 -0.000431926180458802 0.00121555110221682 ...
        0.00094361809874214 -0.00047142037603224 -0.000846444286965113 ...
        5.74403345074176e-06 0.000433294380173395 -6.23134221114956e-05 ...
        -0.00021297438733791 0.000443296286403387 0.000527139427166028 ...
        -0.000626122789643539 -0.00126425316048542 0.000145844810310882 ...
        0.00186999809669043 0.00102487098811141 -0.00170515886177189 ...
        -0.00235131452181099 0.000508272739197766 0.00301941607718222 ...
        0.00133503878448133 -0.00245743686024238 -0.00293928012728376 ...
        0.000754987540231281 0.00344013308507673 0.00130956456993849 ...
        -0.00254928195205616 -0.00271071827401538 0.000774528459072618 ...
        0.00281433446649797 0.000874757347447192 -0.00179039941311597 ...
        -0.00154099207017502 0.000508343340993793 0.00109418617017163 ...
        7.2221403449337e-05 -0.000232468825874706 0.000410693445644966 ...
        -2.11729865606322e-05 -0.00141145902942067 -0.000932563610723512 ...
        0.00179426509856434 0.00268978224512586 -0.000681935474627806 ...
        -0.00405160574951329 -0.00185082472507652 0.00372550836255467 ...
        0.00463003323136387 -0.00128529241162894 -0.00599773780811168 ...
        -0.00239747950598185 0.00489073404686218 0.00552210887757014 ...
        -0.00159006478333762 -0.00644216506900424 -0.00230828052193907 ...
        0.00470797856518552 0.00482930633985381 -0.00141013018775885 ...
        -0.00486479340575366 -0.00147760026752897 0.00289431657384584 ...
        0.00239561925325632 -0.000670590811130803 -0.00127525271950416 ...
        8.55694218143745e-06 -0.000381837656254763 -0.00143981194966871 ...
        0.000539482077858568 0.00369456578672316 0.0018391587650885 ...
        -0.00444632557590531 -0.00581969660547091 0.00194593731220132 ...
        0.0088230820509554 0.00354206603248791 -0.00820978592058459 ...
        -0.00950898523564165 0.00313140895676282 0.0125274892618391 ...
        0.00456304455435126 -0.010369329373486 -0.0111560260126387 ...
        0.00361981242305897 0.013201906914377 0.00442274582695264 ...
        -0.0097348189450772 -0.00961757758128651 0.00300105869711962 ...
        0.00963799545176473 0.00278695091049558 -0.00548746834940321 ...
        -0.00429080573340989 0.00102339965638615 0.00138670659835485 ...
        -0.000348576839534781 0.00245197529048227 0.00470925033906784 ...
        -0.00228192196204171 -0.0110602206581464 -0.0046904737339769 ...
        0.0134127229292532 0.0164422237264486 -0.00661728678274126 ...
        -0.0262186078805726 -0.00965469228016395 0.0259766737350396 ...
        0.0292687322556148 -0.0113800830013571 -0.0418779276779954 ...
        -0.0144731144634105 0.0382273527694257 0.0411874224753897 ...
        -0.0158337760759297 -0.0555125784731148 -0.0183569456809026 ...
        0.048144721720858 0.0501974887168015 -0.0192212289245543 ...
        -0.0647978665833265 -0.0206375795178792 0.0539983817947135 ...
        0.054732782380153 -0.0209344597999895 0.931911543477039 ...
        -0.0209344597999895 0.054732782380153 0.0539983817947135 ...
        -0.0206375795178792 -0.0647978665833265 -0.0192212289245543 ...
        0.0501974887168015 0.048144721720858 -0.0183569456809026 ...
        -0.0555125784731148 -0.0158337760759297 0.0411874224753897 ...
        0.0382273527694257 -0.0144731144634105 -0.0418779276779954 ...
        -0.0113800830013571 0.0292687322556148 0.0259766737350396 ...
        -0.00965469228016395 -0.0262186078805726 -0.00661728678274126 ...
        0.0164422237264486 0.0134127229292532 -0.0046904737339769 ...
        -0.0110602206581464 -0.00228192196204171 0.00470925033906784 ...
        0.00245197529048227 -0.000348576839534781 0.00138670659835485 ...
        0.00102339965638615 -0.00429080573340989 -0.00548746834940321 ...
        0.00278695091049558 0.00963799545176473 0.00300105869711962 ...
        -0.00961757758128651 -0.0097348189450772 0.00442274582695264 ...
        0.013201906914377 0.00361981242305897 -0.0111560260126387 ...
        -0.010369329373486 0.00456304455435126 0.0125274892618391 ...
        0.00313140895676282 -0.00950898523564165 -0.00820978592058459 ...
        0.00354206603248791 0.0088230820509554 0.00194593731220132 ...
        -0.00581969660547091 -0.00444632557590531 0.0018391587650885 ...
        0.00369456578672316 0.000539482077858568 -0.00143981194966871 ...
        -0.000381837656254763 8.55694218143745e-06 -0.00127525271950416 ...
        -0.000670590811130803 0.00239561925325632 0.00289431657384584 ...
        -0.00147760026752897 -0.00486479340575366 -0.00141013018775885 ...
        0.00482930633985381 0.00470797856518552 -0.00230828052193907 ...
        -0.00644216506900424 -0.00159006478333762 0.00552210887757014 ...
        0.00489073404686218 -0.00239747950598185 -0.00599773780811168 ...
        -0.00128529241162894 0.00463003323136387 0.00372550836255467 ...
        -0.00185082472507652 -0.00405160574951329 -0.000681935474627806 ...
        0.00268978224512586 0.00179426509856434 -0.000932563610723512 ...
        -0.00141145902942067 -2.11729865606322e-05 0.000410693445644966 ...
        -0.000232468825874706 7.2221403449337e-05 0.00109418617017163 ...
        0.000508343340993793 -0.00154099207017502 -0.00179039941311597 ...
        0.000874757347447192 0.00281433446649797 0.000774528459072618 ...
        -0.00271071827401538 -0.00254928195205616 0.00130956456993849 ...
        0.00344013308507673 0.000754987540231281 -0.00293928012728376 ...
        -0.00245743686024238 0.00133503878448133 0.00301941607718222 ...
        0.000508272739197766 -0.00235131452181099 -0.00170515886177189 ...
        0.00102487098811141 0.00186999809669043 0.000145844810310882 ...
        -0.00126425316048542 -0.000626122789643539 0.000527139427166028 ...
        0.000443296286403387 -0.00021297438733791 -6.23134221114956e-05 ...
        0.000433294380173395 5.74403345074176e-06 -0.000846444286965113 ...
        -0.00047142037603224 0.00094361809874214 0.00121555110221682 ...
        -0.000431926180458802 -0.00173225561630888 -0.000568771991188247 ...
        0.00160679077719026 0.00160047326552778 -0.00077493496322426 ...
        -0.00215980595031223 -0.000447668086722135 0.00198295135262266 ...
        0.00157747601187329 -0.00116344347965256 -0.00223483891951737 ...
        3.84544985179117e-05 0.00232572448981301 0.00104247219104371 ...
        -0.00206218140606155 -0.00189921536445171 0.00166476659167523 ...
        0.00419736393288516 -0.00845613337307066 0.0117015766479468 ...
        0.00281739449797532]);
end

y = step(Hd,double(x));


% [EOF]
